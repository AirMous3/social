(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{266:function(e,n,t){"use strict";n.a=t.p+"static/media/user.40a377fa.png"},267:function(e,n,t){"use strict";function r(e){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e){return(o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,n){return!n||"object"!==o(n)&&"function"!==typeof n?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):n}function u(e){var n=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var t,o=r(e);if(n){var u=r(this).constructor;t=Reflect.construct(o,arguments,u)}else t=o.apply(this,arguments);return s(this,t)}}t.d(n,"a",(function(){return u}))},268:function(e,n,t){"use strict";function r(e,n){return(r=Object.setPrototypeOf||function(e,n){return e.__proto__=n,e})(e,n)}function o(e,n){if("function"!==typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&r(e,n)}t.d(n,"a",(function(){return o}))},271:function(e,n,t){e.exports={avatar:"Users_avatar__3RERY",userWrapper:"Users_userWrapper__3T0iF",user:"Users_user__2-fiN",pagination:"Users_pagination__6WvpV"}},274:function(e,n,t){e.exports={page:"Paginator_page__n3tTD",selectedPage:"Paginator_selectedPage__mTFf1"}},276:function(e,n,t){"use strict";t.r(n);var r=t(77),o=t(78),s=t(268),u=t(267),i=t(0),a=t.n(i),c=t(18),l=t(38),f=t(53);function p(e,n){return e===n}function g(e,n,t){if(null===n||null===t||n.length!==t.length)return!1;for(var r=n.length,o=0;o<r;o++)if(!e(n[o],t[o]))return!1;return!0}function h(e){var n=Array.isArray(e[0])?e[0]:e;if(!n.every((function(e){return"function"===typeof e}))){var t=n.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+t+"]")}return n}var d=function(e){for(var n=arguments.length,t=Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return function(){for(var n=arguments.length,r=Array(n),o=0;o<n;o++)r[o]=arguments[o];var s=0,u=r.pop(),i=h(r),a=e.apply(void 0,[function(){return s++,u.apply(null,arguments)}].concat(t)),c=e((function(){for(var e=[],n=i.length,t=0;t<n;t++)e.push(i[t].apply(null,arguments));return a.apply(null,e)}));return c.resultFunc=u,c.dependencies=i,c.recomputations=function(){return s},c.resetRecomputations=function(){return s=0},c}}((function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p,t=null,r=null;return function(){return g(n,t,arguments)||(r=e.apply(null,arguments)),t=arguments,r}}));var j=d((function(e){return e.usersPage.users}),(function(e){return e})),b=function(e){return e.usersPage.pageSize},v=function(e){return e.usersPage.totalUsersCount},y=function(e){return e.usersPage.currentPage},P=function(e){return e.usersPage.isInProgress},O=function(e){return e.usersPage.isFollowingProgress},m=t(129),w=t(76),x=t(274),U=t.n(x);var _=t(1),k=function(e){var n=e.totalUsersCount,t=e.pageSize,r=e.currentPage,o=e.onPageChanged,s=function(e,n){var t=[];if(e>10)if(n>5)for(var r=n-4;r<=n+5&&(t.push(r),r!==e);r++);else for(var o=1;o<=10&&(t.push(o),o!==e);o++);else for(var s=1;s<=e;s++)t.push(s);return t}(Math.ceil(n/t),r);return Object(_.jsxs)("div",{children:[r>6&&Object(_.jsx)("span",{className:U.a.page,onClick:function(){return o(1)},children:"1..."}),s.map((function(e,n){return Object(_.jsx)("span",{className:"".concat(U.a.page," ").concat(r===e?U.a.selectedPage:""),onClick:function(){return o(e)},children:e},n)}))," "]})},C=t(37),T=t(266),S=t(271),F=t.n(S),z=t(105),N=function(e){var n=e.user,t=e.unfollowUserThunk,r=e.followUserThunk,o=e.isFollowingProgress;return Object(_.jsxs)("div",{className:F.a.user,children:[Object(_.jsxs)("div",{children:[Object(_.jsx)("div",{children:Object(_.jsxs)(C.c,{to:"/profile/"+n.id,children:[" ",Object(_.jsx)("img",{alt:"userPhoto",className:F.a.avatar,src:null==n.photos.small?T.a:n.photos.small})]})}),Object(_.jsx)("div",{children:n.followed?Object(_.jsx)(z.a,{disabled:o.some((function(e){return e===n.id})),onClick:function(){t(n.id)},children:"unfollow"}):Object(_.jsx)(z.a,{disabled:o.some((function(e){return e===n.id})),onClick:function(){r(n.id)},children:" follow"})})]}),Object(_.jsxs)("div",{children:[Object(_.jsx)("div",{children:n.name}),Object(_.jsx)("div",{children:n.status})]})]})},R=function(e){var n=e.users,t=e.currentPage,r=e.onPageChanged,o=e.pageSize,s=e.unfollowUserThunk,u=e.followUserThunk,i=e.totalUsersCount,a=e.isFollowingProgress;return Object(_.jsxs)("div",{className:"container",children:[Object(_.jsx)("div",{className:F.a.pagination,children:Object(_.jsx)(k,{currentPage:t,onPageChanged:r,pageSize:o,totalUsersCount:i})}),Object(_.jsx)("div",{className:F.a.userWrapper,children:n.map((function(e){return Object(_.jsx)(N,{user:e,isFollowingProgress:a,unfollowUserThunk:s,followUserThunk:u},e.id)}))}),Object(_.jsx)("div",{className:F.a.pagination,children:Object(_.jsx)(k,{currentPage:t,onPageChanged:r,pageSize:o,totalUsersCount:i})})]})},A=function(e){Object(s.a)(t,e);var n=Object(u.a)(t);function t(){var e;Object(r.a)(this,t);for(var o=arguments.length,s=new Array(o),u=0;u<o;u++)s[u]=arguments[u];return(e=n.call.apply(n,[this].concat(s))).onPageChanged=function(n){e.props.changePageThunk(n,e.props.pageSize)},e}return Object(o.a)(t,[{key:"componentDidMount",value:function(){this.props.getUsersThunk(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(_.jsxs)(_.Fragment,{children:[this.props.isInProgress?Object(_.jsx)(w.a,{}):null," ",Object(_.jsx)(R,{users:this.props.users,totalUsersCount:this.props.totalUsersCount,onPageChanged:this.onPageChanged,currentPage:this.props.currentPage,pageSize:this.props.pageSize,followUserThunk:this.props.followUserThunk,unfollowUserThunk:this.props.unfollowUserThunk,isFollowingProgress:this.props.isFollowingProgress})]})}}]),t}(a.a.Component);n.default=Object(l.c)(f.a,Object(c.b)((function(e){return{users:j(e),pageSize:b(e),totalUsersCount:v(e),currentPage:y(e),isInProgress:P(e),isFollowingProgress:O(e)}}),{getUsersThunk:m.c,changePageThunk:m.a,followUserThunk:m.b,unfollowUserThunk:m.d}))(A)}}]);
//# sourceMappingURL=4.b47af3c3.chunk.js.map