{"version":3,"sources":["components/Forms/AddPostOrMessageForm.tsx","images/user.png","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/ProfileInfo/ProfileStatus.tsx","components/Profile/ProfileInfo/Contact/Contact.tsx","components/Profile/ProfileInfo/ProfileDataForm.tsx","components/Profile/ProfileInfo/ProfileInfo.tsx","components/Profile/MyPosts/Post/Post.tsx","components/Profile/MyPosts/MyPosts.tsx","components/Profile/MyPosts/MyPostsContainer.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx"],"names":["AddPostForm","callBack","classNameTextArea","classNameButton","useForm","mode","register","handleSubmit","setValue","errors","formState","onSubmit","data","message","className","required","minLength","maxLength","value","placeholder","module","exports","ProfileStatus","props","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","isOwner","onBlur","updateStatus","deactivateEditMode","onChange","e","currentTarget","autoFocus","Contact","contact","contactValue","style","paddingLeft","ProfileDataForm","profile","dispatch","contacts","useDispatch","console","log","updateProfileThunk","type","width","height","resize","ProfileData","fullName","aboutMe","lookingForAJob","lookingForAJobDescription","Object","entries","map","index","key","ProfileInfo","updatePhoto","keys","length","s","container","wrapper","alt","image","src","photos","large","userPhoto","padding","display","flexDirection","marginLeft","target","files","name","id","htmlFor","changeProfile","onClick","text","Preloader","Post","likeCounts","count","setCount","item","avatar","button","MyPosts","postsElements","profilePage","postData","post","textarea","addPost","posts","MyPostsContainer","connect","state","Profile","updateUserStatusThunk","updatePhotoThunk","ProfileContainer","userId","this","match","params","autorizedUserId","toString","getUserProfileThunk","getUsersStatusThunk","history","push","refreshProfile","prevProps","prevState","snapshot","React","Component","compose","AuthRedirect","auth","withRouter"],"mappings":"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","file":"static/js/3.c8007017.chunk.js","sourcesContent":["import React from 'react'\r\nimport { SubmitHandler, useForm } from 'react-hook-form'\r\nimport SuperButton from \"../common/SuperButton/SuperButton\";\r\n\r\ntype FormType = {\r\n    message: string\r\n}\r\n\r\ntype PropsType = {\r\n    callBack: (text: string) => void\r\n    classNameTextArea?: string\r\n    classNameButton?: string\r\n}\r\n\r\n\r\n\r\nexport const AddPostForm = ({callBack,classNameTextArea,classNameButton}:PropsType) => {\r\n\r\n    const { register, handleSubmit, setValue, formState: { errors } } = useForm<FormType>({ mode: 'onChange', })\r\n    const onSubmit: SubmitHandler<FormType> = (data) => {\r\n        callBack(data.message)\r\n        setValue(\"message\", \"\")\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n\r\n            <textarea  className={classNameTextArea} {...register('message', {\r\n                required: true, minLength: 1, maxLength: { value: 300, message: 'max length 300' }\r\n            })}\r\n                placeholder={\"Напиши своё сообщение\"} />\r\n            <span>\r\n                {errors.message?.message}\r\n            </span>\r\n\r\n            <div>\r\n                <SuperButton className={classNameButton} >Send</SuperButton>\r\n            </div>\r\n        </form>\r\n\r\n    )\r\n}","export default __webpack_public_path__ + \"static/media/user.40a377fa.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"ProfileInfo_container__2bEaS\",\"wrapper\":\"ProfileInfo_wrapper__2_Vkz\",\"image\":\"ProfileInfo_image__iqC1n\",\"text\":\"ProfileInfo_text__3MgiE\",\"changeProfile\":\"ProfileInfo_changeProfile__2tej3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"MyPosts_container__2mCmv\",\"posts\":\"MyPosts_posts__16xq0\",\"textarea\":\"MyPosts_textarea__3S7kx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__yqMLX\",\"button\":\"Post_button__1WEtI\",\"text\":\"Post_text__1OgWd\"};","import React, {useEffect, useState} from 'react'\r\n\r\n\r\ntype PropsType = {\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n    isOwner: boolean\r\n}\r\n\r\nexport const ProfileStatus = (props: PropsType) => {\r\n\r\n\r\n    const [editMode, setEditMode] = useState<Boolean>(false)\r\n    const [status, setStatus] = useState<string>(props.status)\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status]) // сетаем значение в локал стейт\r\n\r\n    const activateEditmode = () => {\r\n        if (!props.isOwner) {\r\n            return\r\n        }\r\n        setEditMode(true)\r\n    }\r\n    const deactivateEditMode = (status: string) => {\r\n        props.updateStatus(status)\r\n        setEditMode(false)\r\n    }\r\n\r\n\r\n    return (\r\n\r\n        <div>\r\n\r\n            {\r\n                !editMode &&\r\n                <div>\r\n                    <span onDoubleClick={activateEditmode}>\r\n                        <b>Status</b>: {props.status}\r\n                    </span>\r\n                </div>\r\n            }\r\n\r\n            {\r\n                editMode &&\r\n                <div>\r\n                    <input  onBlur={() => deactivateEditMode(status)}\r\n                           onChange={(e) => setStatus(e.currentTarget.value)} autoFocus value={status}/>\r\n                </div>\r\n            }\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n","type PropsType = {\r\n    contact: string | null\r\n    contactValue: string\r\n}\r\nexport const Contact = ({contact, contactValue}: PropsType) => {\r\n    return <div style={{paddingLeft: '15px'}}>\r\n        <b>{contact}</b>: {contactValue}\r\n    </div>\r\n}","import {useForm} from \"react-hook-form\";\r\nimport React from \"react\";\r\nimport {ProfileStatus} from \"./ProfileStatus\";\r\nimport {ProfileType, updateProfileThunk} from \"../../../redux/profileReducer\";\r\nimport {useDispatch} from \"react-redux\";\r\n\r\nexport type ProfileDataFormProps = {\r\n    updateStatus: (status: string) => void\r\n    status: string\r\n    profile: ProfileType\r\n    isOwner: boolean\r\n    editMode: (value: boolean) => void\r\n\r\n}\r\ntype FormInputs = {\r\n    fullName: string\r\n    aboutMe: string\r\n    lookingForAJob: boolean\r\n    lookingForAJobDescription: string\r\n\r\n}\r\nexport const ProfileDataForm = ({updateStatus, status, profile, isOwner, editMode}: ProfileDataFormProps) => {\r\n    let contacts = profile.contacts\r\n    const dispatch = useDispatch()\r\n    const {register, handleSubmit} = useForm<FormInputs>()\r\n    const onSubmit = (data: any) => {\r\n        console.log(data)\r\n        editMode(false)\r\n        dispatch(updateProfileThunk(data))\r\n    }\r\n\r\n    return (\r\n\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n            <div>\r\n                <b>FullName</b>: <input  {...register(\"fullName\")} />\r\n            </div>\r\n            <ProfileStatus isOwner={isOwner} status={status} updateStatus={updateStatus}/>\r\n            <div>\r\n                <b>About me</b>: <input {...register(\"aboutMe\")} />\r\n            </div>\r\n\r\n            <div>\r\n                <b>Looking for a job</b>: <input type={'checkbox'} {...register(\"lookingForAJob\")} />\r\n            </div>\r\n\r\n            <div>\r\n                <b>My professional skills</b>:\r\n                <div>\r\n                    <textarea style={{width: '264px', height: '100px', resize: 'none'}} {...register('lookingForAJobDescription')} />\r\n                </div>\r\n            </div>\r\n\r\n\r\n            {/*<div>*/}\r\n            {/*    <b>Contacts</b>:{Object.entries(contacts).map(([key, value], index) => <Contact key={index}*/}\r\n            {/*                                                                                    contact={key}*/}\r\n            {/*                                                                                    contactValue={value}/>)}*/}\r\n            {/*</div>*/}\r\n            <button type={'submit'}>save</button>\r\n        </form>\r\n    );\r\n}","import React, {ChangeEvent, useState} from \"react\";\r\nimport {ProfileType} from \"../../../redux/profileReducer\";\r\nimport {Preloader} from \"../../common/Preloader/Preloader\";\r\nimport userPhoto from \"./../../../images/user.png\";\r\nimport s from \"./ProfileInfo.module.css\";\r\nimport {ProfileStatus} from \"./ProfileStatus\";\r\nimport {Contact} from \"./Contact/Contact\";\r\nimport {ProfileDataForm} from \"./ProfileDataForm\";\r\n\r\ntype ProfileInfoType = {\r\n    profile: ProfileType\r\n    status: string\r\n    updateStatus: (status: string) => void\r\n    isOwner: boolean\r\n    updatePhoto: (photo: string) => void\r\n\r\n}\r\nexport type ProfileDataProps = {\r\n    updateStatus: (status: string) => void\r\n    status: string\r\n    profile: ProfileType\r\n    isOwner: boolean\r\n\r\n}\r\n\r\n\r\nfunction ProfileInfo({profile, status, updateStatus, isOwner, updatePhoto}: ProfileInfoType) {\r\n    const [editMode, setEditMode] = useState(false)\r\n    const activateEditMode = () => setEditMode(true)\r\n    if (!Object.keys(profile).length) {\r\n        return <div>\r\n            <Preloader/>\r\n        </div>\r\n    }\r\n\r\n\r\n    const savePhotoHandler = (e: ChangeEvent<HTMLInputElement>) => {\r\n        if (e.target.files) {\r\n            updatePhoto(e.target.files[0].name)\r\n        }\r\n    }\r\n\r\n    return <div className={s.container}>\r\n\r\n        <div className={s.wrapper}>\r\n            <div>\r\n                <img alt={'profileImage'} className={s.image} src={profile.photos.large || userPhoto}/>\r\n                {\r\n                    isOwner\r\n                    && <div style={{padding: '10px', display: \"flex\", flexDirection: 'column', marginLeft: '20px'}}>\r\n                        <input onChange={savePhotoHandler} id={'img'} style={{marginLeft: '50px', display: 'none'}}\r\n                               type=\"file\"/>\r\n                        <label htmlFor='img'> updatePhoto</label>\r\n                        <button className={s.changeProfile} onClick={() => activateEditMode()}>changeProfile</button>\r\n                    </div>\r\n                }\r\n            </div>\r\n\r\n            <div className={s.text}>\r\n                {editMode ?\r\n                    <ProfileDataForm updateStatus={updateStatus} profile={profile} status={status} isOwner={isOwner}\r\n                                     editMode={setEditMode}/>\r\n                    :\r\n                    <ProfileData updateStatus={updateStatus} status={status} profile={profile} isOwner={isOwner}/>\r\n                }\r\n            </div>\r\n\r\n        </div>\r\n\r\n\r\n    </div>\r\n\r\n}\r\n\r\nconst ProfileData = ({updateStatus, status, profile, isOwner}: ProfileDataProps) => {\r\n    let contacts = profile.contacts\r\n    return <div>\r\n\r\n        <div>\r\n            <b>FullName</b>: {profile.fullName}\r\n        </div>\r\n        <ProfileStatus isOwner={isOwner} status={status} updateStatus={updateStatus}/>\r\n        <div>\r\n            <b>About me</b>: {profile.aboutMe}\r\n        </div>\r\n\r\n        <div>\r\n            <b>Looking for a job</b>: {profile.lookingForAJob ? 'Yes' : 'No'}\r\n        </div>\r\n\r\n        {profile.lookingForAJob &&\r\n        <div>\r\n            <b>My professional skills</b>: {profile.lookingForAJobDescription}\r\n        </div>\r\n        }\r\n\r\n        <div>\r\n            <b>Contacts</b>:{Object.entries(contacts).map(([key, value], index) => <Contact key={index} contact={key}\r\n                                                                                            contactValue={value}/>)}\r\n        </div>\r\n\r\n    </div>\r\n}\r\n\r\n\r\nexport default ProfileInfo","import React, { useState } from \"react\";\r\nimport s from \"./Post.module.css\";\r\n\r\n\r\n\r\ntype PropsPostType = {\r\n    message: string\r\n    avatar: string\r\n    likeCounts: number\r\n\r\n}\r\n\r\n\r\nfunction Post(props: PropsPostType) {\r\n\r\n    let [count, setCount] = useState(props.likeCounts)\r\n\r\n    return (\r\n\r\n        <div className={s.item}>\r\n            <img alt={'postImage'} src={props.avatar} />\r\n\r\n            <div className={s.text} >{props.message}</div>\r\n\r\n            <div>\r\n                <button className={s.button} onClick={() => setCount(count + 1)}> {count} like </button>\r\n            </div>\r\n        </div>\r\n\r\n\r\n    )\r\n}\r\n\r\nexport default Post","import React from \"react\";\r\nimport { AddPostForm } from \"../../Forms/AddPostOrMessageForm\";\r\nimport s from \"./MyPosts.module.css\";\r\nimport { MyPostsPropsType } from \"./MyPostsContainer\";\r\nimport Post from \"./Post/Post\";\r\n\r\n\r\n\r\n\r\n\r\nfunction MyPosts(props: MyPostsPropsType) {\r\n\r\n    let state = props.profilePage\r\n\r\n    let postsElements = state.postData.map(post => <Post key={post.id} message={post.post}\r\n        likeCounts={post.likeCounts} avatar={post.avatar} />)\r\n\r\n\r\n    return (\r\n        <div className={s.container}>\r\n            <h3> My Posts </h3>\r\n            <div>\r\n                <AddPostForm classNameTextArea={s.textarea} callBack={props.addPost} />\r\n            </div>\r\n            <div className={s.posts}>\r\n                {postsElements}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default MyPosts","import { connect } from \"react-redux\";\r\nimport { addPost, PostDataType } from \"../../../redux/profileReducer\";\r\nimport { AppStoreType } from \"../../../redux/reduxStore\";\r\nimport MyPosts from \"./MyPosts\";\r\n\r\n\r\ntype mapStateType = {\r\n    profilePage: MyPostsType\r\n}\r\n\r\ntype MyPostsType = {\r\n    postData: Array<PostDataType>\r\n}\r\n\r\n\r\ntype mapDispatchType = {\r\n    addPost: (text: string) => void\r\n}\r\nexport type MyPostsPropsType = mapStateType & mapDispatchType\r\n\r\nconst mapStateToProps = (state: AppStoreType): mapStateType => {\r\n    return {\r\n        profilePage: state.profilePage\r\n    }\r\n}\r\n\r\n\r\nexport const MyPostsContainer = connect(mapStateToProps, { addPost })(MyPosts)\r\n\r\n\r\n","import React from \"react\";\r\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\r\nimport {MyPostsContainer} from \"./MyPosts/MyPostsContainer\";\r\nimport {ProfileType} from \"../../redux/profileReducer\";\r\n\r\ntype ProfilePropsType = {\r\n    profile: ProfileType\r\n    status: string\r\n    updateUserStatusThunk: (status: string) => void\r\n    isOwner: boolean\r\n    updatePhotoThunk: (photo: string) => void\r\n}\r\n\r\nfunction Profile({profile, status, updateUserStatusThunk, isOwner,updatePhotoThunk}: ProfilePropsType) {\r\n\r\n    return <div>\r\n        <ProfileInfo updatePhoto={updatePhotoThunk}  isOwner={isOwner} profile={profile} status={status} updateStatus={updateUserStatusThunk}/>\r\n        <MyPostsContainer/>\r\n\r\n    </div>\r\n\r\n}\r\n\r\n\r\nexport default Profile","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {RouteComponentProps, withRouter} from \"react-router-dom\";\r\nimport {compose} from \"redux\";\r\nimport {AuthRedirect} from \"../../hoc/AuthRedirect\";\r\nimport {\r\n    getUserProfileThunk,\r\n    getUsersStatusThunk,\r\n    ProfileType,\r\n    updatePhotoThunk,\r\n    updateUserStatusThunk\r\n} from \"../../redux/profileReducer\";\r\nimport {AppStoreType} from \"../../redux/reduxStore\";\r\nimport Profile from \"./Profile\";\r\n\r\n\r\ntype PathParamsType = {\r\n    userId: string\r\n}\r\n\r\n\r\ntype mapStateToPropsType = {\r\n    profile: ProfileType\r\n    status: string,\r\n    autorizedUserId: number | null\r\n\r\n}\r\n\r\ntype MapDispatchPropsType = {\r\n    getUserProfileThunk: (userId: string) => void\r\n    getUsersStatusThunk: (userId: string) => void\r\n    updateUserStatusThunk: (status: string) => void\r\n    updatePhotoThunk: (photo: string) => void\r\n}\r\n\r\ntype PropsType = RouteComponentProps<PathParamsType> & ProfileContainerType\r\ntype ProfileContainerType = mapStateToPropsType & MapDispatchPropsType\r\n\r\nclass ProfileContainer extends React.Component<PropsType> {\r\n\r\n    savePhoto(){\r\n\r\n    }\r\n\r\n    refreshProfile() {\r\n        let userId = this.props.match.params.userId\r\n\r\n        if (userId || this.props.autorizedUserId) {\r\n\r\n            userId = userId ?? this.props.autorizedUserId?.toString()\r\n\r\n            this.props.getUserProfileThunk(userId)\r\n            this.props.getUsersStatusThunk(userId)\r\n\r\n        } else {\r\n            this.props.history.push('/login')\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.refreshProfile()\r\n    }\r\n\r\n    componentDidUpdate(prevProps: Readonly<PropsType>, prevState: Readonly<{}>, snapshot?: any) {\r\n        if (this.props.match.params.userId !== prevProps.match.params.userId)\r\n        this.refreshProfile()\r\n    }\r\n\r\n    render() {\r\n\r\n        return (\r\n            <Profile isOwner={!this.props.match.params.userId} {...this.props} />\r\n        )\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state: AppStoreType): mapStateToPropsType => ({\r\n    profile: state.profilePage.profile,\r\n    status: state.profilePage.status,\r\n    autorizedUserId: state.auth.data.id,\r\n})\r\n\r\n\r\nexport default compose<React.ComponentType>(AuthRedirect,\r\n    connect(mapStateToProps, {getUserProfileThunk, getUsersStatusThunk, updateUserStatusThunk, updatePhotoThunk}),\r\n    withRouter\r\n)(ProfileContainer)"],"sourceRoot":""}