(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{88:function(e,n,r){"use strict";n.a=r.p+"static/media/user.40a377fa.png"},93:function(e,n,r){e.exports={page:"Paginator_page__n3tTD",selectedPage:"Paginator_selectedPage__mTFf1"}},94:function(e,n,r){e.exports={avatar:"Users_avatar__3RERY"}},97:function(e,n,r){"use strict";r.r(n);var t=r(18),s=r(19),o=r(27),u=r(26),a=r(0),i=r.n(a),c=r(12),l=r(13),p=r(21);function f(e,n){return e===n}function g(e,n,r){if(null===n||null===r||n.length!==r.length)return!1;for(var t=n.length,s=0;s<t;s++)if(!e(n[s],r[s]))return!1;return!0}function h(e){var n=Array.isArray(e[0])?e[0]:e;if(!n.every((function(e){return"function"===typeof e}))){var r=n.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+r+"]")}return n}var d=function(e){for(var n=arguments.length,r=Array(n>1?n-1:0),t=1;t<n;t++)r[t-1]=arguments[t];return function(){for(var n=arguments.length,t=Array(n),s=0;s<n;s++)t[s]=arguments[s];var o=0,u=t.pop(),a=h(t),i=e.apply(void 0,[function(){return o++,u.apply(null,arguments)}].concat(r)),c=e((function(){for(var e=[],n=a.length,r=0;r<n;r++)e.push(a[r].apply(null,arguments));return i.apply(null,e)}));return c.resultFunc=u,c.dependencies=a,c.recomputations=function(){return o},c.resetRecomputations=function(){return o=0},c}}((function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f,r=null,t=null;return function(){return g(n,r,arguments)||(t=e.apply(null,arguments)),r=arguments,t}}));var j=d((function(e){return e.usersPage.users}),(function(e){return e})),v=function(e){return e.usersPage.pageSize},b=function(e){return e.usersPage.totalUsersCount},P=function(e){return e.usersPage.currentPage},O=function(e){return e.usersPage.isInProgress},w=function(e){return e.usersPage.isFollowingProgress},x=r(50),k=r(28),U=r(93),m=r.n(U);var y=r(1),C=function(e){var n=e.totalUsersCount,r=e.pageSize,t=e.currentPage,s=e.onPageChanged,o=[];return function(e,n,r){if(n>10)if(r>5)for(var t=r-4;t<=r+5&&(e.push(t),t!==n);t++);else for(var s=1;s<=10&&(e.push(s),s!==n);s++);else for(var o=1;o<=n;o++)e.push(o)}(o,Math.ceil(n/r),t),Object(y.jsxs)("div",{children:[t>6&&Object(y.jsx)("span",{className:m.a.page,onClick:function(){return s(1)},children:"1..."}),o.map((function(e,n){return Object(y.jsx)("span",{className:"".concat(m.a.page," ").concat(t===e?m.a.selectedPage:""),onClick:function(){return s(e)},children:e},n)}))," "]})},T=r(8),F=r(88),S=r(94),z=r.n(S),_=r(39),A=function(e){var n=e.user,r=e.unfollowUserThunk,t=e.followUserThunk,s=e.isFollowingProgress;return Object(y.jsxs)("div",{children:[Object(y.jsxs)("span",{children:[Object(y.jsx)("div",{children:Object(y.jsxs)(T.b,{to:"/profile/"+n.id,children:[" ",Object(y.jsx)("img",{alt:"userPhoto",className:z.a.avatar,src:null==n.photos.small?F.a:n.photos.small})]})}),Object(y.jsx)("div",{children:n.followed?Object(y.jsx)(_.a,{disabled:s.some((function(e){return e===n.id})),onClick:function(){r(n.id)},children:"unfollow"}):Object(y.jsx)(_.a,{disabled:s.some((function(e){return e===n.id})),onClick:function(){t(n.id)},children:" follow"})})]}),Object(y.jsxs)("span",{children:[Object(y.jsxs)("span",{children:[Object(y.jsx)("div",{children:n.name}),Object(y.jsx)("div",{children:n.status})]}),Object(y.jsxs)("span",{children:[Object(y.jsx)("div",{children:"user.location.country"}),Object(y.jsx)("div",{children:"user.location.city"})]})]})]})},I=function(e){var n=e.users,r=e.currentPage,t=e.onPageChanged,s=e.pageSize,o=e.unfollowUserThunk,u=e.followUserThunk,a=e.totalUsersCount,i=e.isFollowingProgress;return Object(y.jsxs)("div",{children:[Object(y.jsx)(C,{currentPage:r,onPageChanged:t,pageSize:s,totalUsersCount:a}),n.map((function(e){return Object(y.jsx)(A,{user:e,isFollowingProgress:i,unfollowUserThunk:o,followUserThunk:u},e.id)}))]})},N=function(e){Object(o.a)(r,e);var n=Object(u.a)(r);function r(){var e;Object(t.a)(this,r);for(var s=arguments.length,o=new Array(s),u=0;u<s;u++)o[u]=arguments[u];return(e=n.call.apply(n,[this].concat(o))).onPageChanged=function(n){e.props.changePageThunk(n,e.props.pageSize)},e}return Object(s.a)(r,[{key:"componentDidMount",value:function(){this.props.getUsersThunk(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(y.jsxs)(y.Fragment,{children:[this.props.isInProgress?Object(y.jsx)(k.a,{}):null," ",Object(y.jsx)(I,{users:this.props.users,totalUsersCount:this.props.totalUsersCount,onPageChanged:this.onPageChanged,currentPage:this.props.currentPage,pageSize:this.props.pageSize,followUserThunk:this.props.followUserThunk,unfollowUserThunk:this.props.unfollowUserThunk,isFollowingProgress:this.props.isFollowingProgress})]})}}]),r}(i.a.Component);n.default=Object(l.c)(p.a,Object(c.b)((function(e){return{users:j(e),pageSize:v(e),totalUsersCount:b(e),currentPage:P(e),isInProgress:O(e),isFollowingProgress:w(e)}}),{getUsersThunk:x.c,changePageThunk:x.a,followUserThunk:x.b,unfollowUserThunk:x.d}))(N)}}]);
//# sourceMappingURL=4.8510e601.chunk.js.map